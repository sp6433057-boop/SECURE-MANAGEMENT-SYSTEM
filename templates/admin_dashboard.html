<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="dashboard-container">

    <h2>Admin Dashboard</h2>

    <!-- TOP ACTIONS -->
    <div class="admin-actions">
        <a href="{{ url_for('add_student') }}" class="btn action-btn add-btn">Add Student</a>
        <a href="{{ url_for('admin_profile') }}" class="btn action-btn profile-btn">My Profile</a>
        <a href="{{ url_for('logout') }}" class="btn action-btn logout-btn">Logout</a>
    </div>

    <!-- STUDENT TABLE -->
    <div class="table-container">
        <table class="student-table">
            <thead>
                <tr>
                    <th>Photo</th>
                    <th>Name</th>
                    <th>Father</th>
                    <th>Roll No</th>
                    <th>Reg No</th>
                    <th>Email</th>
                    <th>Mobile</th>
                    <th>Course</th>
                    <th>Semester</th>
                    <th>Actions</th>
                </tr>
            </thead>

            <tbody>
                {% for student in students %}
                <tr>

                    <!-- PHOTO -->
                    <td class="photo-cell">
                        {% if student.photo %}
                        <img
                            src="{{ url_for('static', filename='uploads/' ~ student.photo) }}"
                            alt="Student Photo"
                            class="passport-thumb">
                        {% else %}
                        â€”
                        {% endif %}
                    </td>

                    <td>{{ student.name }}</td>
                    <td>{{ student.father_name }}</td>
                    <td>{{ student.roll_number }}</td>
                    <td>{{ student.registration_number }}</td>
                    <td>{{ student.email }}</td>
                    <td>{{ student.mobile }}</td>
                    <td>{{ student.course }}</td>
                    <td>{{ student.semester }}</td>

                    <!-- ACTIONS -->
                    <td class="action-cell">
                        <a href="{{ url_for('edit_student', student_id=student.id) }}"
                           class="btn table-btn edit-btn">Edit</a>

                        <form action="{{ url_for('delete_student', student_id=student.id) }}"
                              method="POST"
                              style="display:inline;">
                            <button type="submit"
                                    class="btn table-btn delete-btn"
                                    onclick="return confirm('Delete this student?')">
                                Delete
                            </button>
                        </form>
                    </td>

                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>

</body>
</html>
